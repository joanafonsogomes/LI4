@model IEnumerable<WebApplication1.Models.Artigo>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_LayoutLogin.cshtml";

    string str = (string)@ViewData["User_Name"];
}


<h1> @str</h1>
<br>
<br>

<head>
    <style>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js" > </script >
        <script type="text/javascript" > var scrolltotop = {
            setting:

        {
            startline: 100, scrollto: 0, scrollduration: 1e3, fadeduration: [500, 100]
        }

        , controlHTML: '<img src="https://i1155.photobucket.com/albums/p559/scrolltotop/arrow15.png" />', controlattrs: {
            offsetx: 5, offsety: 5
        }

        , anchorkeyword: "#top", state: {
            isvisible: !1, shouldvisible: !1
        }

        , scrollup: function () {
            this .cssfixedsupport || this.$control.css({ opacity: 0 });
            var t = isNaN(this.setting.scrollto) ? this.setting.scrollto : parseInt(this.setting.scrollto);
            t = "string" == typeof t && 1 == jQuery("#" + t).length ? jQuery("#" + t).offset().top : 0, this.$body.animate({ scrollTop: t }, this.setting.scrollduration)
        }

        , keepfixed: function () {
            var t = jQuery(window), o = t.scrollLeft() + t.width() - this.$control.width() - this.controlattrs.offsetx, s = t.scrollTop() + t.height() - this.$control.height() - this.controlattrs.offsety;
            this .$control.css({ left: o + "px", top: s + "px" })
        }

        , togglecontrol: function () {
            var t = jQuery(window).scrollTop();
            this .cssfixedsupport || this.keepfixed(), this.state.shouldvisible = t >= this.setting.startline ? !0 : !1, this.state.shouldvisible && !this.state.isvisible ? (this.$control.stop().animate({ opacity: 1 }, this.setting.fadeduration[0]), this.state.isvisible = !0) : 0 == this.state.shouldvisible && this.state.isvisible && (this.$control.stop().animate({ opacity: 0 }, this.setting.fadeduration[1]), this.state.isvisible = !1)
        }

        , init: function () {
            jQuery(document).ready(function (t) { var o = scrolltotop, s = document.all; o.cssfixedsupport = !s || s && "CSS1Compat" == document.compatMode && window.XMLHttpRequest, o.$body = t(window.opera ? "CSS1Compat" == document.compatMode ? "html" : "body" : "html,body"), o.$control = t('<div id="topcontrol">' + o.controlHTML + "</div>").css({ position: o.cssfixedsupport ? "fixed" : "absolute", bottom: o.controlattrs.offsety, right: o.controlattrs.offsetx, opacity: 0, cursor: "pointer" }).attr({ title: "Scroll to Top" }).click(function () { return o.scrollup(), !1 }).appendTo("body"), document.all && !window.XMLHttpRequest && "" != o.$control.text() && o.$control.css({ width: o.$control.width() }), o.togglecontrol(), t('a[href="' + o.anchorkeyword + '"]').click(function () { return o.scrollup(), !1 }), t(window).bind("scroll resize", function (t) { o.togglecontrol() }) })
        }

        }
        ; scrolltotop.init();</script >
    </style>
    @section NotId {
        <li>
            <a href="@Url.Action("AluguerInfo", "Utilizador")">
                <span class="glyphicon glyphicon-bell "></span>
                Notificações
                @{
                    int n = (int)@ViewData["noti"];
                    if (n > 0)
                    {

                        <span class="badge">@n</span>
                    }
                }
            </a>
        </li>
    }
</head>

<body>
    <!-- Page Content -->
    <div class="container">

        <div class="row">

           

            <div class="col-lg-12">

                <div id="carouselExampleIndicators" class="carousel slide my-4" data-ride="carousel">
                    <ol class="carousel-indicators">
                        <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                        <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                        <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                    </ol>
                    <div class="carousel-inner" role="listbox">
                        <div class="carousel-item active">
                            <img class="d-block img-fluid" src="~/Images/cor.png" alt="Anuncie">
                        </div>
                        <div class="carousel-item">
                            <img class="d-block img-fluid" src="~/Images/child.png" alt="Relogio">
                        </div>
                        <div class="carousel-item">
                            <img class="d-block img-fluid" src="~/Images/hellos.png" alt="Thank">
                        </div>
                    </div>
                    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>


                <div class="row">
                    @foreach (var item in Model)
                    {

                        <div class="col-lg-4 col-md-6 mb-4">
                            <div class="card h-100">
                                @{var fileName = @item.Imagem;
                                    String[] words = fileName.Split(" ");
                                    String itempic = words[0];
                                }
                                <a href="@Url.Action("Details", new { idArtigo = item.IdArtigo })"><img class="card-img-top" src="~/uploads/@itempic" alt=""></a>
                                <div class="card-body">
                                    <h4 class="card-title">
                                        <a href="@Url.Action("Details", new { idArtigo = item.IdArtigo })">@Html.DisplayFor(modelItem => item.Nome)</a>
                                    </h4>
                                    <h5>
                                        @Html.DisplayFor(modelItem => item.Preco) €
                                    </h5>
                                    <h6 style="color: rgb(17, 112, 158);">
                                        @Html.DisplayFor(modelItem => item.Modo)
                                    </h6>
                                    <p class="card-text">@Html.DisplayFor(modelItem => item.Descricao)</p>
                                </div>
                                <div class="card-footer">
                                    @{ if (item.NumeroVotos == 0)
                                        {
                                            <small>Ainda sem pontuação</small>
                                        }
                                        else if (0 <= item.Pontuacao && item.Pontuacao < 1)
                                        {
                                            <small class="text-muted">&#9734; &#9734; &#9734; &#9734; &#9734;</small>
                                        }
                                        else if (1 <= item.Pontuacao && item.Pontuacao < 2)
                                        {
                                            <small class="text-muted">&#9733; &#9734; &#9734; &#9734; &#9734;</small>
                                        }
                                        else if (2 <= item.Pontuacao && item.Pontuacao < 3)
                                        {
                                            <small class="text-muted">&#9733; &#9733; &#9734; &#9734; &#9734;</small>
                                        }
                                        else if (3 <= item.Pontuacao && item.Pontuacao < 4)
                                        {
                                            <small class="text-muted">&#9733; &#9733; &#9733; &#9734; &#9734;</small>
                                        }
                                        else if (4 <= item.Pontuacao && item.Pontuacao < 5)
                                        {
                                            <small class="text-muted">&#9733; &#9733; &#9733; &#9733; &#9734;</small>
                                        }
                                        else if (item.Pontuacao == 5)
                                        {
                                            <small class="text-muted">&#9733; &#9733; &#9733; &#9733; &#9733;</small>
                                        }
                                    }
                                </div>
                            </div>
                        </div>
                    }


                </div>
                <!-- /.row -->
            </div>
            <!-- /.col-lg-9 -->

        </div>
        <!-- /.row -->

    </div>
    <!-- /.container -->
</body>